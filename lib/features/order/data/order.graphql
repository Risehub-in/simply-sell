query GetOrders {
  orders {
    created_at
    customer_latitude
    customer_longitude
    delivery_address
    delivery_fee
    id
    order_status
    payment_amount
    user_id
    payment_id
  }
}

mutation CreateOrder(
  $id: bigint!
  $user_id: uuid!
  $delivery_fee: numeric!
  $address_id: bigint!
  $payment_response_id: String!
  $payment_amount: numeric!
  $order_items: [order_items_insert_input!]!
) {
  insert_orders(
    objects: {
      id: $id
      user_id: $user_id
      delivery_fee: $delivery_fee
      address_id: $address_id
      payment_response_id: $payment_response_id
      payment_amount: $payment_amount
    }
  ) {
    affected_rows
  }
  insert_order_items(objects: $order_items) {
    affected_rows
  }
  delete_cart_items(where: { user_id: { _eq: $user_id } }) {
    affected_rows
  }
}
